parameters:
    sylius.behat.page.admin.store.index.class: "%sylius.behat.page.admin.crud.index.class%"

services:
    #shop

    locastic_sylius_store_locator.context.ui.shop.checkout.shipping:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Context\Ui\Shop\Checkout\CheckoutShippingContext
        arguments:
            - "@locastic_sylius_store_locator.page.shop.select_shipping"
            - "@sylius.behat.page.shop.checkout.select_payment"
            - "@sylius.behat.page.shop.checkout.complete"
        tags:
            - fob.context_service

    locastic_sylius_store_locator.context.ui.shop.store:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Context\Ui\Shop\Store\StoreContext
        arguments:
            - "@locastic_sylius_store_locator.page.shop.store_index"
            - "@locastic_sylius_store_locator.page.shop.store_show"
        tags:
            - fob.context_service

    # admin

    locastic_sylius_store_locator.context.ui.admin.managing_stores:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Context\Ui\Admin\ManagingStoresContext
        arguments:
            - "@locastic_sylius_store_locator.page.admin.store_index"
            - "@locastic_sylius_store_locator.page.admin.store_create"
            - "@locastic_sylius_store_locator.page.admin.store_update"
        tags:
            - fob.context_service
    #setup

    locastic_sylius_store_locator.behat.context.setup.shipping:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Context\Setup\ShippingContext
        arguments:
            - "@sylius.behat.shared_storage"
            - "@__symfony__.app.fixture.example_factory.shipping_method"
            - "@__symfony__.sylius.repository.shipping_method"
        tags:
            - fob.context_service

    locastic_sylius_store_locator.behat.context.setup.store:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Context\Setup\StoreContext
        arguments:
            - "@__symfony__.locastic_sylius_store_locator_plugin.repository.store"
            - "@__symfony__.locastic_sylius_store_locator_plugin.example_factory.store"
            - "@sylius.behat.shared_storage"
        tags:
            - fob.context_service

    #transform
    locastic_sylius_store_locator.behat.context.transform.store:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Context\Transform\StoreContext
        arguments:
            - "@__symfony__.locastic_sylius_store_locator_plugin.repository.store"
        tags:
            - fob.context_service

    #pages

    locastic_sylius_store_locator.page.shop.select_shipping:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Page\Shop\Checkout\SelectShippingPage
        public: false
        parent: sylius.behat.page.shop.checkout.select_shipping

    locastic_sylius_store_locator.page.shop.store_index:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Page\Shop\Store\StoreIndexPage
        public: false
        parent: sylius.behat.symfony_page

    locastic_sylius_store_locator.page.shop.store_show:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Page\Shop\Store\StoreShowPage
        public: false
        parent: sylius.behat.symfony_page

    locastic_sylius_store_locator.page.admin.store_index:
        class: '%sylius.behat.page.admin.store.index.class%'
        public: true
        parent: sylius.behat.page.admin.crud.index
        arguments:
            - "locastic_sylius_store_locator_plugin_admin_store_index"

    locastic_sylius_store_locator.page.admin.store_create:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Page\Admin\Store\CreatePage
        public: true
        parent: sylius.behat.page.admin.crud.create
        arguments:
            - "locastic_sylius_store_locator_plugin_admin_store_create"

    locastic_sylius_store_locator.page.admin.store_update:
        class: Tests\Locastic\SyliusStoreLocatorPlugin\Behat\Page\Admin\Store\UpdatePage
        public: true
        parent: sylius.behat.page.admin.crud.update
        arguments:
            - "locastic_sylius_store_locator_plugin_admin_store_update"